import{i as K,_ as Wr,b as Jt}from"../chunks/DOj_L230.js";import{a as f,f as w,t as ea,c as Yr}from"../chunks/Cqtqrt0G.js";import{i as Zr}from"../chunks/BTI8y7Wc.js";import{o as Qr}from"../chunks/-eHITvjr.js";import{h as oa,P as ht,X as Gr,e as gt,H as Kr,G as Xr,t as e,J as en,M as an,O as zt,Q as _t,i as et,V as tn,ax as rn,ah as Wt,c as Ra,f as wt,aR as nn,s as sn,aJ as ln,aS as on,av as kt,aT as cn,a5 as Yt,aU as un,aV as dn,aN as _,aW as ca,r as er,p as ar,aX as mt,aY as vn,au as pn,d as fn,W as hn,aZ as tr,q as gn,a_ as _n,a$ as mn,aO as bn,l as v,S as yn,b0 as Sn,z as wn,b1 as Le,b2 as xn,A as bt,C as kn,aD as r,F as i,D as l,E as s,ai as at,B as H,b3 as Zt,aQ as Qt}from"../chunks/B9mbK8lt.js";import{s as y,e as U}from"../chunks/AFsuBYVU.js";import{r as la,s as Na,a as Gt}from"../chunks/DDxyQvBn.js";function Ma(n,d){return d}function Cn(n,d,u){for(var c=[],E=d.length,S,x=d.length,O=0;O<E;O++){let me=d[O];ar(me,()=>{if(S){if(S.pending.delete(me),S.done.add(me),S.pending.size===0){var $=n.outrogroups;xt(kt(S.done)),$.delete(S),$.size===0&&(n.outrogroups=null)}}else x-=1},!1)}if(x===0){var P=c.length===0&&u!==null;if(P){var J=u,T=J.parentNode;pn(T),T.append(J),n.items.clear()}xt(d,!P)}else S={pending:new Set(d),done:new Set},(n.outrogroups??=new Set).add(S)}function xt(n,d=!0){for(var u=0;u<n.length;u++)fn(n[u],d)}var Kt;function Ta(n,d,u,c,E,S=null){var x=n,O=new Map,P=(d&tr)!==0;if(P){var J=n;x=oa?ht(Gr(J)):J.appendChild(gt())}oa&&Kr();var T=null,me=ln(()=>{var N=u();return on(N)?N:N==null?[]:kt(N)}),$,de=!0;function Ie(){p.fallback=T,En(p,$,x,d,c),T!==null&&($.length===0?(T.f&ca)===0?er(T):(T.f^=ca,Ya(T,null,x)):ar(T,()=>{T=null}))}var Ae=Xr(()=>{$=e(me);var N=$.length;let X=!1;if(oa){var Se=en(x)===an;Se!==(N===0)&&(x=zt(),ht(x),_t(!1),X=!0)}for(var te=new Set,ee=Ra,$e=sn(),be=0;be<N;be+=1){oa&&et.nodeType===tn&&et.data===rn&&(x=et,X=!0,_t(!1));var Fe=$[be],We=c(Fe,be),ve=de?null:O.get(We);ve?(ve.v&&Wt(ve.v,Fe),ve.i&&Wt(ve.i,be),$e&&ee.unskip_effect(ve.e)):(ve=Pn(O,de?x:Kt??=gt(),Fe,We,be,E,d,u),de||(ve.e.f|=ca),O.set(We,ve)),te.add(We)}if(N===0&&S&&!T&&(de?T=wt(()=>S(x)):(T=wt(()=>S(Kt??=gt())),T.f|=ca)),N>te.size&&nn(),oa&&N>0&&ht(zt()),!de)if($e){for(const[Y,pe]of O)te.has(Y)||ee.skip_effect(pe.e);ee.oncommit(Ie),ee.ondiscard(()=>{})}else Ie();X&&_t(!0),e(me)}),p={effect:Ae,items:O,outrogroups:null,fallback:T};de=!1,oa&&(x=et)}function Wa(n){for(;n!==null&&(n.f&vn)===0;)n=n.next;return n}function En(n,d,u,c,E){var S=(c&_n)!==0,x=d.length,O=n.items,P=Wa(n.effect.first),J,T=null,me,$=[],de=[],Ie,Ae,p,N;if(S)for(N=0;N<x;N+=1)Ie=d[N],Ae=E(Ie,N),p=O.get(Ae).e,(p.f&ca)===0&&(p.nodes?.a?.measure(),(me??=new Set).add(p));for(N=0;N<x;N+=1){if(Ie=d[N],Ae=E(Ie,N),p=O.get(Ae).e,n.outrogroups!==null)for(const ve of n.outrogroups)ve.pending.delete(p),ve.done.delete(p);if((p.f&ca)!==0)if(p.f^=ca,p===P)Ya(p,null,u);else{var X=T?T.next:P;p===n.effect.last&&(n.effect.last=p.prev),p.prev&&(p.prev.next=p.next),p.next&&(p.next.prev=p.prev),ga(n,T,p),ga(n,p,X),Ya(p,X,u),T=p,$=[],de=[],P=Wa(T.next);continue}if((p.f&mt)!==0&&(er(p),S&&(p.nodes?.a?.unfix(),(me??=new Set).delete(p))),p!==P){if(J!==void 0&&J.has(p)){if($.length<de.length){var Se=de[0],te;T=Se.prev;var ee=$[0],$e=$[$.length-1];for(te=0;te<$.length;te+=1)Ya($[te],Se,u);for(te=0;te<de.length;te+=1)J.delete(de[te]);ga(n,ee.prev,$e.next),ga(n,T,ee),ga(n,$e,Se),P=Se,T=$e,N-=1,$=[],de=[]}else J.delete(p),Ya(p,P,u),ga(n,p.prev,p.next),ga(n,p,T===null?n.effect.first:T.next),ga(n,T,p),T=p;continue}for($=[],de=[];P!==null&&P!==p;)(J??=new Set).add(P),de.push(P),P=Wa(P.next);if(P===null)continue}(p.f&ca)===0&&$.push(p),T=p,P=Wa(p.next)}if(n.outrogroups!==null){for(const ve of n.outrogroups)ve.pending.size===0&&(xt(kt(ve.done)),n.outrogroups?.delete(ve));n.outrogroups.size===0&&(n.outrogroups=null)}if(P!==null||J!==void 0){var be=[];if(J!==void 0)for(p of J)(p.f&mt)===0&&be.push(p);for(;P!==null;)(P.f&mt)===0&&P!==n.fallback&&be.push(P),P=Wa(P.next);var Fe=be.length;if(Fe>0){var We=(c&tr)!==0&&x===0?u:null;if(S){for(N=0;N<Fe;N+=1)be[N].nodes?.a?.measure();for(N=0;N<Fe;N+=1)be[N].nodes?.a?.fix()}Cn(n,be,We)}}S&&gn(()=>{if(me!==void 0)for(p of me)p.nodes?.a?.apply()})}function Pn(n,d,u,c,E,S,x,O){var P=(x&un)!==0?(x&dn)===0?_(u,!1,!1):Yt(u):null,J=(x&cn)!==0?Yt(E):null;return{v:P,i:J,e:wt(()=>(S(d,P??u,J??E,O),()=>{n.delete(c)}))}}function Ya(n,d,u){if(n.nodes)for(var c=n.nodes.start,E=n.nodes.end,S=d&&(d.f&ca)===0?d.nodes.start:u;c!==null;){var x=hn(c);if(S.before(c),c===E)return;c=x}}function ga(n,d,u){d===null?n.effect.first=u:d.next=u,u===null?n.effect.last=d:u.prev=d}function rr(n){var d,u,c="";if(typeof n=="string"||typeof n=="number")c+=n;else if(typeof n=="object")if(Array.isArray(n)){var E=n.length;for(d=0;d<E;d++)n[d]&&(u=rr(n[d]))&&(c&&(c+=" "),c+=u)}else for(u in n)n[u]&&(c&&(c+=" "),c+=u);return c}function Nn(){for(var n,d,u=0,c="",E=arguments.length;u<E;u++)(n=arguments[u])&&(d=rr(n))&&(c&&(c+=" "),c+=d);return c}function Mn(n){return typeof n=="object"?Nn(n):n??""}const Xt=[...` 	
\r\f¬†\v\uFEFF`];function Tn(n,d,u){var c=n==null?"":""+n;if(d&&(c=c?c+" "+d:d),u){for(var E in u)if(u[E])c=c?c+" "+E:E;else if(c.length)for(var S=E.length,x=0;(x=c.indexOf(E,x))>=0;){var O=x+S;(x===0||Xt.includes(c[x-1]))&&(O===c.length||Xt.includes(c[O]))?c=(x===0?"":c.substring(0,x))+c.substring(O+1):x=O}}return c===""?null:c}function De(n,d,u,c,E,S){var x=n.__className;if(oa||x!==u||x===void 0){var O=Tn(u,c,S);(!oa||O!==n.getAttribute("class"))&&(O==null?n.removeAttribute("class"):n.className=O),n.__className=u}else if(S&&E!==S)for(var P in S){var J=!!S[P];(E==null||J!==!!E[P])&&n.classList.toggle(P,J)}return S}function ia(n,d,u=d){var c=new WeakSet;mn(n,"input",async E=>{var S=E?n.defaultValue:n.value;if(S=yt(n)?St(S):S,u(S),Ra!==null&&c.add(Ra),await bn(),S!==(S=d())){var x=n.selectionStart,O=n.selectionEnd,P=n.value.length;if(n.value=S??"",O!==null){var J=n.value.length;x===O&&O===P&&J>P?(n.selectionStart=J,n.selectionEnd=J):(n.selectionStart=x,n.selectionEnd=Math.min(O,J))}}}),(oa&&n.defaultValue!==n.value||v(d)==null&&n.value)&&(u(yt(n)?St(n.value):n.value),Ra!==null&&c.add(Ra)),yn(()=>{var E=d();if(n===document.activeElement){var S=Sn??Ra;if(c.has(S))return}yt(n)&&E===St(n.value)||n.type==="date"&&!E&&!n.value||E!==n.value&&(n.value=E??"")})}function yt(n){var d=n.type;return d==="number"||d==="range"}function St(n){return n===""?null:+n}function Dn(n){return function(...d){var u=d[0];return u.preventDefault(),n?.apply(this,d)}}const In="/api/v1/retreat";function An(n,d){if(!n)return`Request failed (${d})`;try{const u=JSON.parse(n);if(u.error)return u.error;if(u.message)return u.message;if(u.errors&&typeof u.errors=="object"){const c=Object.values(u.errors)[0];if(Array.isArray(c)&&c.length>0)return String(c[0]);if(typeof c=="string")return c}}catch{}return n}async function ke(n,d={},u){const c=new Headers(d.headers??{});c.set("Accept","application/json"),d.body&&!c.has("Content-Type")&&c.set("Content-Type","application/json"),u&&c.set("X-Device-Token",u);const E=await fetch(`${In}${n}`,{...d,headers:c});if(!E.ok){const S=await E.text();throw new Error(An(S,E.status))}return await E.json()}var On=w('<main class="boot-screen svelte-1uha8ag"><h1>Loading Calvary Caravan‚Ä¶</h1> <p>Syncing your convoy workspace.</p></main>'),Ln=w('<label class="svelte-1uha8ag">Full name <input maxlength="50" placeholder="e.g. Sarah Jenkins" class="svelte-1uha8ag"/></label> <div class="split-fields svelte-1uha8ag"><label class="svelte-1uha8ag">Vehicle color <input maxlength="30" placeholder="e.g. Silver" class="svelte-1uha8ag"/></label> <label class="svelte-1uha8ag">Make/model <input maxlength="50" placeholder="e.g. Honda CR-V" class="svelte-1uha8ag"/></label></div>',1),$n=w('<p class="signin-hint subtle svelte-1uha8ag">Use the same phone number you originally joined with.</p>'),Fn=w('<main class="join-shell svelte-1uha8ag"><section class="join-card svelte-1uha8ag"><div class="join-header svelte-1uha8ag"><span class="eyebrow svelte-1uha8ag">Calvary Caravan</span> <h1 class="svelte-1uha8ag"> </h1> <p class="svelte-1uha8ag"><!></p></div> <form class="join-form svelte-1uha8ag"><div class="join-mode-toggle svelte-1uha8ag"><button type="button">New Join</button> <button type="button">Sign In</button></div> <label class="svelte-1uha8ag">6-character invite code <input maxlength="6" placeholder="TEST26" required="" class="svelte-1uha8ag"/></label> <label class="svelte-1uha8ag">Phone number (used for retreat identity) <input type="tel" inputmode="tel" autocomplete="tel" maxlength="24" placeholder="e.g. (501) 231-5761" required="" class="svelte-1uha8ag"/></label> <!> <button type="submit" class="svelte-1uha8ag"><!></button></form> <aside class="join-notes svelte-1uha8ag"><p class="svelte-1uha8ag"><strong>Permission notes for store review:</strong></p> <ul class="svelte-1uha8ag"><li>Your phone number is used as your retreat identity (no OTP in this version).</li> <li>If you already joined, use <strong>Sign In</strong> with retreat code + the same phone number.</li> <li>Location is used only while the app is active so your marker can update on the convoy map.</li> <li>You can delete your account data anytime in Profile ‚Üí Delete account &amp; data.</li></ul> <p class="join-links svelte-1uha8ag"><a href="/privacy" target="_blank" rel="noopener noreferrer" class="svelte-1uha8ag">Privacy</a> ¬∑ <a href="/support" target="_blank" rel="noopener noreferrer" class="svelte-1uha8ag">Support</a> ¬∑ <a href="/account-deletion" target="_blank" rel="noopener noreferrer" class="svelte-1uha8ag">Account deletion</a></p></aside></section></main>'),Rn=w('<section class="status-banner card svelte-1uha8ag"><div><strong> </strong> <p class="svelte-1uha8ag"><!></p></div> <button type="button" class="small svelte-1uha8ag">Retry now</button></section>'),jn=w('<button type="button"><span> </span> <small class="svelte-1uha8ag"> </small></button>'),qn=w('<div class="map-empty svelte-1uha8ag"><strong>No live markers yet</strong> <p class="svelte-1uha8ag">Allow location while using the app so your marker can appear on the live map.</p></div>'),Bn=w('<div class="stop-intel-empty subtle svelte-1uha8ag">Looks like everyone is rolling right now.</div>'),Hn=w('<article class="stop-intel-item svelte-1uha8ag"><strong class="svelte-1uha8ag"> </strong> <p class="svelte-1uha8ag"> </p> <small class="svelte-1uha8ag"> </small></article>'),Vn=w('<div class="stop-intel-grid svelte-1uha8ag"></div>'),Un=w('<div class="participant-strip-empty subtle svelte-1uha8ag">No participants match this filter yet.</div>'),Jn=w('<img class="svelte-1uha8ag"/>'),zn=w('<span class="participant-avatar-glyph svelte-1uha8ag" aria-hidden="true"> </span>'),Wn=w('<small class="participant-stop-badge svelte-1uha8ag"> </small>'),Yn=w('<button type="button"><span><!> <span class="participant-status-dot svelte-1uha8ag" aria-hidden="true"></span></span> <span class="participant-name svelte-1uha8ag"> </span> <!></button>'),Zn=w('<div class="participant-row svelte-1uha8ag"></div>'),Qn=w('<div class="status-feed-empty subtle svelte-1uha8ag">No stop updates yet.</div>'),Gn=w('<div><span aria-hidden="true"> </span> <span> </span></div>'),Kn=w('<div class="stop-feed svelte-1uha8ag" role="log" aria-label="Recent stop events"></div>'),Xn=w('<section class="map-panel card svelte-1uha8ag"><div class="panel-head svelte-1uha8ag"><h3 class="svelte-1uha8ag">Live Convoy Map</h3> <p class="svelte-1uha8ag"> </p></div> <div class="map-canvas svelte-1uha8ag"><div class="map-live svelte-1uha8ag" aria-label="Live map"></div> <!></div> <p class="map-attribution svelte-1uha8ag" role="note" aria-label="Map attribution"><a href="https://leafletjs.com" target="_blank" rel="noopener noreferrer" class="svelte-1uha8ag">Leaflet</a> <span aria-hidden="true">‚Ä¢</span> <span>Map data ¬© <a href="https://www.openstreetmap.org/copyright" target="_blank" rel="noopener noreferrer" class="svelte-1uha8ag">OpenStreetMap contributors</a></span></p> <section class="stop-intel card svelte-1uha8ag" aria-live="polite"><header class="stop-intel-head svelte-1uha8ag"><div><h4 class="svelte-1uha8ag">Who‚Äôs parked right now</h4> <p class="svelte-1uha8ag">Quick glance at vehicles that look paused.</p></div> <small class="svelte-1uha8ag"> <!></small></header> <!></section> <div class="participant-strip-tools svelte-1uha8ag"><div class="participant-strip-filter svelte-1uha8ag" role="group" aria-label="Participant filter"><button type="button"> </button> <button type="button"> </button></div> <div class="participant-strip-scroll-buttons svelte-1uha8ag" aria-label="Scroll participants"><button type="button" class="chip-scroll-btn svelte-1uha8ag" aria-label="Scroll left">‚óÄ</button> <button type="button" class="chip-scroll-btn svelte-1uha8ag" aria-label="Scroll right">‚ñ∂</button></div></div> <!> <section class="status-feed card svelte-1uha8ag" aria-live="polite"><header class="status-feed-head svelte-1uha8ag"><h4 class="svelte-1uha8ag">Status feed</h4> <small class="svelte-1uha8ag">Newest updates</small></header> <!></section></section>'),es=w('<div class="empty-state svelte-1uha8ag"><strong>No waypoints loaded</strong> <p class="svelte-1uha8ag">Waypoints from the retreat route will show here automatically.</p></div>'),as=w('<article class="timeline-card svelte-1uha8ag"><div></div> <div><p class="eyebrow svelte-1uha8ag"></p> <h4 class="svelte-1uha8ag"> </h4> <p class="svelte-1uha8ag"> </p> <small class="svelte-1uha8ag"> </small></div></article>'),ts=w('<div class="timeline svelte-1uha8ag"></div>'),rs=w('<section class="panel card svelte-1uha8ag"><div class="panel-head svelte-1uha8ag"><h3 class="svelte-1uha8ag">Waypoints & Schedule</h3> <p class="svelte-1uha8ag">Keep everyone aligned on ETAs and checkpoint progress.</p></div> <!></section>'),ns=w('<div class="empty-state svelte-1uha8ag"><strong>No messages yet</strong> <p class="svelte-1uha8ag">Start with a quick check-in for the group.</p></div>'),ss=w('<article><header class="svelte-1uha8ag"><strong class="svelte-1uha8ag"> </strong> <small class="svelte-1uha8ag"> </small></header> <p class="svelte-1uha8ag"> </p></article>'),ls=w('<small class="subtle svelte-1uha8ag"> </small>'),is=w('<section class="panel card svelte-1uha8ag"><div class="panel-head svelte-1uha8ag"><h3 class="svelte-1uha8ag">Group Chat</h3> <p class="svelte-1uha8ag">Use chat for normal updates and prayer mode for care moments.</p></div> <div class="chat-list svelte-1uha8ag"><!></div> <div class="composer svelte-1uha8ag"><div class="mode-toggle svelte-1uha8ag"><button type="button">Chat</button> <button type="button">Prayer Request</button></div> <textarea rows="3" class="svelte-1uha8ag"></textarea> <button type="button" class="svelte-1uha8ag">Send</button> <!></div></section>'),os=w('<div class="empty-state svelte-1uha8ag"><strong>Leader access required</strong> <p class="svelte-1uha8ag">You can receive alerts here, but only leaders can broadcast emergency notices.</p></div>'),cs=w('<button type="button"> </button>'),us=w('<div class="alert-builder svelte-1uha8ag"><div class="severity-grid svelte-1uha8ag"></div> <textarea rows="4" placeholder="Describe the urgent issue and what the group should do next." class="svelte-1uha8ag"></textarea> <div class="alert-preview card svelte-1uha8ag"><p class="eyebrow svelte-1uha8ag">Preview</p> <p class="svelte-1uha8ag"><strong> </strong> </p></div> <button type="button" class="danger svelte-1uha8ag">Send emergency alert</button></div>'),ds=w('<section class="panel card svelte-1uha8ag"><div class="panel-head svelte-1uha8ag"><h3 class="svelte-1uha8ag">Emergency Alert Composer</h3> <p class="svelte-1uha8ag">Leader-only high-signal channel with confirmation safeguard.</p></div> <!></section>'),vs=w('<img alt="Profile" class="svelte-1uha8ag"/>'),ps=w('<div class="avatar-fallback svelte-1uha8ag"> </div>'),fs=w(`<section class="panel card svelte-1uha8ag"><div class="panel-head svelte-1uha8ag"><h3 class="svelte-1uha8ag">Profile & Vehicle</h3> <p class="svelte-1uha8ag">Keep your details current so others can identify you quickly on the road.</p></div> <article class="profile-card card svelte-1uha8ag"><div class="avatar-wrap svelte-1uha8ag"><!></div> <div class="profile-fields svelte-1uha8ag"><label class="svelte-1uha8ag">Name <input readonly="" class="svelte-1uha8ag"/></label> <label class="svelte-1uha8ag">Phone identity <input readonly="" class="svelte-1uha8ag"/></label> <label class="svelte-1uha8ag">Vehicle color <input placeholder="e.g. Silver" class="svelte-1uha8ag"/></label> <label class="svelte-1uha8ag">Make/model <input placeholder="e.g. Honda CR-V" class="svelte-1uha8ag"/></label></div></article> <article class="location-sharing card svelte-1uha8ag"><div><p class="eyebrow svelte-1uha8ag">Privacy</p> <h4 class="svelte-1uha8ag"> </h4> <p class="svelte-1uha8ag">Turn this off anytime to remove your marker from the live map. You can still use chat and waypoints.
              For best results, allow location while using the app in your phone settings.</p></div> <button type="button"><!></button></article> <div class="profile-actions svelte-1uha8ag"><label class="upload-btn svelte-1uha8ag"> <input type="file" accept="image/png,image/jpeg,image/webp" class="svelte-1uha8ag"/></label> <button type="button" class="ghost svelte-1uha8ag">Remove photo</button> <button type="button" class="ghost svelte-1uha8ag">Save vehicle details</button> <button type="button" class="danger-outline svelte-1uha8ag"> </button> <button type="button" class="danger svelte-1uha8ag"> </button></div></section>`),hs=w('<main class="app-shell svelte-1uha8ag"><header class="topbar card svelte-1uha8ag"><div><p class="eyebrow svelte-1uha8ag"> </p> <h2 class="svelte-1uha8ag">Convoy Control</h2> <p class="subtle svelte-1uha8ag"> </p></div> <div class="topbar-actions svelte-1uha8ag"><button type="button" class="ghost svelte-1uha8ag"> </button></div></header> <!> <nav class="tabbar card svelte-1uha8ag"></nav> <!></main>'),gs=w('<span class="svelte-1uha8ag"> </span>'),_s=w('<p class="place-label-line svelte-1uha8ag"> <!></p>'),ms=w('<small class="subtle svelte-1uha8ag"> </small>'),bs=w('<section class="sheet-backdrop svelte-1uha8ag" aria-label="Participant quick actions"><button type="button" class="sheet-hitbox svelte-1uha8ag" aria-label="Close participant quick actions"></button> <article class="participant-sheet card svelte-1uha8ag"><header class="svelte-1uha8ag"><h4 class="svelte-1uha8ag"> </h4> <p class="svelte-1uha8ag"> </p> <!></header> <div class="quick-actions svelte-1uha8ag"><button type="button" class="svelte-1uha8ag">üìû Call</button> <button type="button" class="svelte-1uha8ag">üí¨ Message</button> <button type="button" class="svelte-1uha8ag">üôè Pray</button> <button type="button" class="alert-leader-btn svelte-1uha8ag"><span class="alert-leader-icon svelte-1uha8ag" aria-hidden="true">üö®</span> <span>Alert leader</span></button></div> <!> <small class="subtle svelte-1uha8ag"> </small></article></section>'),ys=w(`<section class="sheet-backdrop svelte-1uha8ag" aria-label="Emergency confirmation"><button type="button" class="sheet-hitbox svelte-1uha8ag" aria-label="Close emergency confirmation"></button> <article class="confirm-modal card svelte-1uha8ag"><h4 class="svelte-1uha8ag">Confirm emergency broadcast</h4> <p class="svelte-1uha8ag">This sends a <strong> </strong> alert to the full retreat group.
        Please confirm this message is accurate.</p> <blockquote class="svelte-1uha8ag"> </blockquote> <div class="confirm-actions svelte-1uha8ag"><button type="button" class="ghost svelte-1uha8ag">Cancel</button> <button type="button" class="danger svelte-1uha8ag">Send now</button></div></article></section>`),Ss=w('<aside class="toast error svelte-1uha8ag"> </aside>'),ws=w('<aside class="toast success svelte-1uha8ag"> </aside>'),xs=w("<!> <!> <!> <!> <!>",1);function Ds(n,d){wn(d,!1);const u=_(),c=_(),E=_(),S=_(),x=_(),O=_(),P=_(),J=_(),T="caravan_device_token";let me=_(!1),$=_(!1),de=_(!1),Ie=_(!1),Ae=_(!1),p=_(!1),N=_(!1),X=_("map"),Se=_("chat"),te=_(!0),ee=_("join"),$e=_(""),be=_(""),Fe=_(""),We=_(""),ve=_(""),Y=_(""),pe=_(null),we=_(null),j=_([]),_a=_([]),ma=_([]),Ye=_([]),ba=_(""),ya=_(""),Re=_("high"),ja=_(!1),V=_(null),tt=_(null),Da=_("all"),Za=_(null),Sa=_(""),wa=_(""),Ia=_(""),qa=_(""),ua=_(""),rt=null,Ba=null,nt=!1,st=!1,he=_(!0),Ha=_(!1),Ct=0,xa=_(null),je=null,D=_(null),aa=null,Ze=!1,Aa=0,Qe=_(null),lt={},ta=_({}),Va=_([]),it=0;const Et=130,nr=360,sr=2.2,lr=8,ir=600,or=[{id:"map",label:"Map",icon:"üó∫Ô∏è"},{id:"waypoints",label:"Plan",icon:"üìç"},{id:"chat",label:"Chat",icon:"üí¨"},{id:"alert",label:"Alert",icon:"üö®"},{id:"profile",label:"Profile",icon:"üë§"}];function Pt(a){return a.trim().toUpperCase().replace(/[^A-Z0-9]/g,"").slice(0,6)}function ot(a){if(!a)return"TBD";const t=new Date(a);return Number.isNaN(t.getTime())?"TBD":t.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}function ct(a){return a==null?"offline":a<60?"just now":a<3600?`${Math.floor(a/60)}m ago`:`${Math.floor(a/3600)}h ago`}function cr(a){return a==null||!Number.isFinite(a)?"":a<1e3?`${Math.round(a)}m`:`${(a/1e3).toFixed(1)}km`}function Ua(a){if(a==null||!Number.isFinite(a))return"0m";const t=Math.max(0,Math.floor(a));if(t<60)return`${t}s`;const o=Math.floor(t/3600),g=Math.floor(t%3600/60);return o?g?`${o}h ${g}m`:`${o}h`:`${g}m`}function ut(a){if(a==null||!Number.isFinite(a))return"0 minutes";const t=Math.max(0,Math.floor(a));if(t<60)return`${t} second${t===1?"":"s"}`;const o=Math.floor(t/3600),g=Math.floor(t%3600/60);return o?g?`${o} hour${o===1?"":"s"} ${g} minute${g===1?"":"s"}`:`${o} hour${o===1?"":"s"}`:`${g} minute${g===1?"":"s"}`}function Nt(a){if(!a)return null;const t=Date.parse(a);return Number.isFinite(t)?t:null}function ur(a,t,o,g){const h=ge=>ge*Math.PI/180,L=h(o-a),F=h(g-t),I=h(a),Z=h(o),ue=Math.sin(L/2)**2+Math.cos(I)*Math.cos(Z)*Math.sin(F/2)**2;return 6371e3*(2*Math.atan2(Math.sqrt(ue),Math.sqrt(1-ue)))}function dr(a){return a?a.trim().replace(/^(at|near)\s+/i,"").trim():""}function Mt(a){const t=dr(a.location?.place?.label??null);return t||(Oa(a.location?.lat,a.location?.lng)?`${Number(a.location.lat).toFixed(3)}, ${Number(a.location.lng).toFixed(3)}`:"unknown location")}function vr(a){const t=Mt(a);return a.location?.place?.relation==="near"?`near ${t}`:`at ${t}`}function Tt(a){const t=a.location?.place?.label?.trim();return t||(Oa(a.location?.lat,a.location?.lng)?`Near ${Number(a.location.lat).toFixed(3)}, ${Number(a.location.lng).toFixed(3)}`:"Location unavailable")}function ra(a){return a.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&#039;")}function Oa(a,t){return a==null||t===null||t===void 0||!Number.isFinite(a)||!Number.isFinite(t)||Math.abs(a)>90||Math.abs(t)>180?!1:!(a===0&&t===0)}function pr(){const a=e(we)?.destination?.lat,t=e(we)?.destination?.lng;return Oa(a,t)?{lat:Number(a),lng:Number(t)}:null}function fr(a){return a.filter(t=>Oa(t.location?.lat,t.location?.lng))}function ka(a){return e(ta)[a]??null}function Dt(a){const t=ka(a.participant_id);return t?t.phase==="stopped"?`üõë ${Ua(t.stopped_for_seconds)}`:t.phase==="candidate"&&t.candidate_for_seconds>=90?`‚è≥ ${Ua(t.candidate_for_seconds)}`:null:null}function dt(a,t){const o=Nt(t)??Date.now(),g={},h={},L=[];for(const F of a){const I=F.participant_id,Z=F.location;if(!Z||!Oa(Z.lat,Z.lng)){h[I]={participant_id:I,phase:"offline",place_label:"Location unavailable",place_phrase:"at an unknown location",stopped_for_seconds:0,candidate_for_seconds:0,started_at_iso:null};continue}const ue=Number(Z.lat),ge=Number(Z.lng),re=Nt(Z.recorded_at)??o,_e=Z.speed??null,Ce=(F.last_seen_seconds_ago??0)>=ir,Ee=Mt(F),na=vr(F),Be=lt[I];let G=Be?{...Be}:{participant_id:I,phase:"moving",anchor_lat:ue,anchor_lng:ge,anchor_place_label:Ee,started_at_ms:re,last_recorded_at_ms:re},He=0,Ge=0,q="moving";if(Ce)q="offline";else{const M=ur(G.anchor_lat,G.anchor_lng,ue,ge)>Et,z=_e!==null&&Number.isFinite(_e)&&_e>sr;if(M||z){if(G.phase==="stopped"){const se=Math.max(0,Math.floor((re-G.started_at_ms)/1e3)),R=G.anchor_place_label?` near ${G.anchor_place_label}`:"";L.push({id:++it,participant_id:I,kind:"moving",text:`${F.name} started moving again after ${ut(se)}${R}.`,created_at:new Date(o).toISOString()})}G={participant_id:I,phase:"moving",anchor_lat:ue,anchor_lng:ge,anchor_place_label:Ee,started_at_ms:re,last_recorded_at_ms:re},q="moving"}else G.phase==="moving"&&(G.phase="candidate",G.started_at_ms=G.last_recorded_at_ms),G.last_recorded_at_ms=re,G.anchor_place_label=Ee,He=Math.max(0,Math.floor((re-G.started_at_ms)/1e3)),He>=nr?(G.phase!=="stopped"&&(G.phase="stopped",L.push({id:++it,participant_id:I,kind:"stopped",text:`${F.name} looks stopped ${na}.`,created_at:new Date(o).toISOString()})),q="stopped",Ge=Math.max(0,Math.floor((Math.max(o,re)-G.started_at_ms)/1e3))):q="candidate"}g[I]=G,h[I]={participant_id:I,phase:q,place_label:Ee,place_phrase:na,stopped_for_seconds:Ge,candidate_for_seconds:He,started_at_iso:new Date(G.started_at_ms).toISOString()}}lt=g,r(ta,h),L.length>0&&r(Va,[...L.reverse(),...e(Va)].slice(0,lr))}async function It(){if(!(typeof window>"u")&&!(!e($)||e(X)!=="map")&&e(xa)){if(!je){const a=await Wr(()=>import("../chunks/CjPBq9Bq.js").then(t=>t.l),[],import.meta.url);je=a.default??a}if(e(D)&&typeof e(D).getContainer=="function"){const a=e(D).getContainer();(!a||a!==e(xa))&&(e(D).remove(),r(D,null),aa=null,Ze=!1,Aa=0)}e(D)||(r(D,je.map(e(xa),{zoomControl:!0,attributionControl:!1})),je.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:"&copy; OpenStreetMap contributors"}).addTo(e(D)),aa=je.layerGroup().addTo(e(D)),Ze=!1,Aa=0),At(),window.requestAnimationFrame(()=>{e(D)?.invalidateSize()})}}function At(){if(!e(D)||!aa||!je)return;aa.clearLayers();const a=e(c),t=pr(),o=[];for(const h of a){const L=Number(h.location.lat),F=Number(h.location.lng),I=ka(h.participant_id),Z=I?.phase==="stopped",ue=I?.phase==="candidate",ge=h.is_current_user?"#1f9e59":h.is_leader?"#8f0030":"#2458c6",re=Z?"#cc1f2f":ge,_e=je.circleMarker([L,F],{radius:Z?10:h.is_current_user?9:7,color:re,weight:Z||h.is_current_user?3:2,fillColor:re,fillOpacity:Z?.96:.9});Z&&je.circle([L,F],{radius:Et,color:"#cc1f2f",weight:1,dashArray:"5 4",fillColor:"#ff8893",fillOpacity:.08}).addTo(aa);const Ce=Tt(h),Ee=Z?`<br>üõë Stopped ${ra(Ua(I?.stopped_for_seconds))}`:ue&&I?`<br>‚è≥ Holding ${ra(Ua(I.candidate_for_seconds))}`:"";_e.bindPopup(`<strong>${ra(h.name)}</strong><br>${ra(Ce)}<br>${ra(ct(h.last_seen_seconds_ago))}${Ee}`),_e.addTo(aa),o.push([L,F])}if(t){const h=je.circleMarker([t.lat,t.lng],{radius:8,color:"#b36a00",weight:2,fillColor:"#f59e0b",fillOpacity:.85});h.bindPopup(`<strong>Destination</strong><br>${e(we)?.destination?.name??"Retreat destination"}`),h.addTo(aa),o.push([t.lat,t.lng])}const g=Aa===0;if(Aa=a.length,!o.length){Ze||(e(D).setView([35.1495,-90.049],5),Ze=!0);return}if(o.length===1){(!Ze||g)&&(e(D).setView(o[0],11),Ze=!0);return}(!Ze||g)&&(e(D).fitBounds(o,{padding:[32,32],maxZoom:12}),Ze=!0)}async function hr(a){if(!e(Y)||!e(te)||st||!e(he))return;const t=Date.now();if(!(t-Ct<25e3)){st=!0;try{const o=a.coords;await ke("/location",{method:"POST",body:JSON.stringify({latitude:o.latitude,longitude:o.longitude,accuracy:Number.isFinite(o.accuracy)?o.accuracy:null,speed:o.speed!==null&&Number.isFinite(o.speed)&&o.speed>=0?o.speed:null,heading:o.heading!==null&&Number.isFinite(o.heading)?o.heading:null,altitude:o.altitude!==null&&Number.isFinite(o.altitude)?o.altitude:null,recorded_at:new Date(a.timestamp).toISOString()})},e(Y)),Ct=t,r(j,e(j).map(g=>g.is_current_user?{...g,location:{lat:o.latitude,lng:o.longitude,accuracy:Number.isFinite(o.accuracy)?o.accuracy:null,speed:o.speed!==null&&Number.isFinite(o.speed)&&o.speed>=0?o.speed:null,heading:o.heading!==null&&Number.isFinite(o.heading)?o.heading:null,recorded_at:new Date(a.timestamp).toISOString()},last_seen_seconds_ago:0}:g))}catch{}finally{st=!1}}}function Qa(){typeof navigator>"u"||navigator.geolocation&&Ba!==null&&(navigator.geolocation.clearWatch(Ba),Ba=null)}function gr(){typeof navigator>"u"||navigator.geolocation&&(!e($)||!e(Y)||!e(he)||Ba===null&&(Ba=navigator.geolocation.watchPosition(a=>{hr(a)},a=>{a.code===a.PERMISSION_DENIED&&!nt&&(Te("Location permission is disabled. Enable it to share live map markers."),nt=!0)},{enableHighAccuracy:!0,maximumAge:15e3,timeout:15e3})))}function qe(a){r(qa,a),setTimeout(()=>{e(qa)===a&&r(qa,"")},2600)}function Te(a){r(Ia,a),setTimeout(()=>{e(Ia)===a&&r(Ia,"")},4200)}async function _r(){r(de,!0),r(Ia,"");try{const a=await ke("/join",{method:"POST",body:JSON.stringify({auth_mode:e(ee),code:Pt(e($e)),name:e(ee)==="join"?e(be).trim():void 0,phone_number:e(Fe).trim(),vehicle_color:e(ee)==="join"?e(We).trim()||null:void 0,vehicle_description:e(ee)==="join"?e(ve).trim()||null:void 0})});r(Y,a.data.device_token),localStorage.setItem(T,e(Y)),await Ot(e(Y)),qe("Joined convoy successfully.")}catch(a){Te(a instanceof Error?a.message:"Unable to join retreat.")}finally{r(de,!1)}}async function Ot(a){{const[t,o,g,h]=await Promise.all([ke("/status",{},a),ke("/locations",{},a),ke("/waypoints",{},a),ke("/messages?limit=100",{},a)]);r(pe,t.data.participant),r(we,t.data.retreat),r(j,o.data),r(Qe,o.meta.server_time??new Date().toISOString()),dt(e(j),e(Qe)),r(_a,[...g.data].sort((F,I)=>F.order-I.order)),r(ma,h.data);const L=e(j).find(F=>F.is_current_user);r(he,L?.location_sharing_enabled??t.data.participant.location_sharing_enabled??!0),L&&(r(Sa,L.vehicle_color??e(Sa)),r(wa,L.vehicle_description??e(wa))),r($,!0),Ze=!1,Aa=0,r(me,!0)}}async function da(){if(!(!e(Y)||!e($))){r(Ie,!0);try{const[a,t,o]=await Promise.all([ke("/locations",{},e(Y)),ke("/waypoints",{},e(Y)),ke("/messages?limit=100",{},e(Y))]);r(j,a.data),r(Qe,a.meta.server_time??new Date().toISOString()),dt(e(j),e(Qe)),r(_a,[...t.data].sort((h,L)=>h.order-L.order)),r(ma,o.data);const g=e(j).find(h=>h.is_current_user);g&&(r(he,g.location_sharing_enabled??e(he)),r(Sa,g.vehicle_color??e(Sa)),r(wa,g.vehicle_description??e(wa)))}catch(a){Te(a instanceof Error?a.message:"Unable to refresh retreat data.")}finally{r(Ie,!1)}}}function Lt(a,t){r(Ye,[...e(Ye),{id:`${Date.now()}-${Math.random().toString(16).slice(2,8)}`,content:a,mode:t,createdAt:Date.now()}]),r(ua,`${e(Ye).length} message${e(Ye).length===1?"":"s"} queued while offline.`)}async function mr(){const a=e(ba).trim();if(a){if(!e(te)){Lt(a,e(Se)),r(ba,"");return}await $t(a,e(Se)),r(ba,"")}}async function $t(a,t){const o=e(j).find(h=>h.is_current_user),g={content:t==="prayer"?`üôè Prayer Request: ${a}`:a,message_type:"chat",latitude:o?.location?.lat,longitude:o?.location?.lng};try{await ke("/messages",{method:"POST",body:JSON.stringify(g)},e(Y)),await da(),qe(t==="prayer"?"Prayer request sent.":"Message sent.")}catch(h){const L=h instanceof Error?h.message:"Unable to send message.";Te(L),Lt(a,t)}}async function Ft(){if(!e(Ye).length||!e(te))return;const a=[...e(Ye)];r(Ye,[]);for(const t of a)await $t(t.content,t.mode);r(ua,"Queued messages flushed."),setTimeout(()=>{e(ua)==="Queued messages flushed."&&r(ua,"")},2500)}async function br(){if(!e(S)){Te("Only retreat leaders can send emergency alerts.");return}const a=e(ya).trim();if(!a){Te("Please enter the emergency message before sending.");return}try{await ke("/messages",{method:"POST",body:JSON.stringify({message_type:"alert",content:`[${e(Re).toUpperCase()}] ${a}`})},e(Y)),qe(`Emergency alert sent (${e(Re)}).`),r(ya,""),r(ja,!1),r(X,"chat"),await da()}catch(t){Te(t instanceof Error?t.message:"Unable to send emergency alert.")}}function Rt(a){e(Za)&&e(Za).scrollBy({left:a*188,behavior:"smooth"})}function yr(a){if(r(tt,a.participant_id),e(X)!=="map"&&r(X,"map"),!Oa(a.location?.lat,a.location?.lng)){Te(`${a.name} does not have a live location yet.`);return}const t=Number(a.location.lat),o=Number(a.location.lng),g=Tt(a),h=ct(a.last_seen_seconds_ago),L=ka(a.participant_id),F=()=>{if(!e(D))return;const I=typeof e(D).getZoom=="function"?Number(e(D).getZoom()??9):9,Z=I<8?8:I;typeof e(D).stop=="function"&&e(D).stop(),typeof e(D).getZoom=="function"&&typeof e(D).setZoom=="function"&&I!==Z&&e(D).setZoom(Z,{animate:!1}),typeof e(D).panTo=="function"?e(D).panTo([t,o],{animate:!0,duration:.28,easeLinearity:.3}):e(D).setView([t,o],Z,{animate:!1}),!je?.popup||!e(D)||je.popup({closeButton:!1,offset:[0,-10]}).setLatLng([t,o]).setContent(`<strong>${ra(a.name)}</strong><br>${ra(g)}<br>${ra(h)}${L?.phase==="stopped"?`<br>üõë Stopped ${ra(Ua(L.stopped_for_seconds))}`:""}`).openOn(e(D))};if(!e(D)){It().then(()=>{F()});return}F()}function Sr(){r(V,null)}function wr(a){r(X,"chat"),r(Se,"chat"),r(ba,`@${a.name} `),r(V,null)}function xr(a){r(X,"chat"),r(Se,"prayer"),r(ba,`Praying for ${a.name} ‚Äî `),r(V,null)}function kr(a){r(X,"alert"),r(Re,"high"),r(ya,`Need leader support near ${a.name}: `),r(V,null)}function Cr(a){qe("Call shortcut wired. Number binding comes next.")}async function Er(a){if(a&&e(Y)){r(N,!0);try{const t=await Ir(a);await ke("/profile-photo",{method:"POST",body:JSON.stringify({avatar_base64:t})},e(Y)),qe("Profile photo updated."),await da()}catch(t){Te(t instanceof Error?t.message:"Could not upload profile photo.")}finally{r(N,!1)}}}async function Pr(){if(e(Y)){r(N,!0);try{await ke("/profile-photo",{method:"DELETE"},e(Y)),qe("Profile photo removed."),await da()}catch(a){Te(a instanceof Error?a.message:"Could not remove profile photo.")}finally{r(N,!1)}}}async function Nr(a){if(e(Y)&&!e(Ha)&&a!==e(he)){r(Ha,!0);try{const t=await ke("/location-sharing",{method:"POST",body:JSON.stringify({enabled:a})},e(Y));r(he,t.data.location_sharing_enabled),e(pe)&&r(pe,{...e(pe),location_sharing_enabled:e(he)}),r(j,e(j).map(o=>o.is_current_user?{...o,location_sharing_enabled:e(he),location:e(he)?o.location:null}:o)),e(he)?(nt=!1,qe("Location sharing re-enabled.")):(Qa(),qe("Location sharing paused. Your marker is hidden from the map.")),await da()}catch(t){Te(t instanceof Error?t.message:"Could not update location sharing.")}finally{r(Ha,!1)}}}function jt(){localStorage.removeItem(T),r($,!1),r(Y,""),r(pe,null),r(we,null),r(j,[]),r(_a,[]),r(ma,[]),r(Ye,[]),r(he,!0),r(tt,null),r(Qe,null),lt={},r(ta,{}),r(Va,[]),it=0,Qa(),e(D)&&(e(D).remove(),r(D,null),aa=null),Ze=!1,Aa=0}async function Mr(){if(e(Y)){r(Ae,!0);try{await ke("/leave",{method:"POST"},e(Y)),jt(),qe("You have left the retreat.")}catch(a){Te(a instanceof Error?a.message:"Could not leave retreat.")}finally{r(Ae,!1)}}}async function Tr(){if(!(!e(Y)||e(p)||!(typeof window<"u"&&window.confirm("Delete your account and retreat data now? This cannot be undone.")))){r(p,!0);try{await ke("/account",{method:"DELETE",body:JSON.stringify({confirm_delete:!0})},e(Y)),jt(),qe("Your account and retreat data were deleted.")}catch(t){Te(t instanceof Error?t.message:"Could not delete account data.")}finally{r(p,!1)}}}async function Dr(){if(!e(te)){Te("Still offline. Messages remain queued.");return}await Ft()}function Ir(a){return new Promise((t,o)=>{const g=new FileReader;g.onload=()=>t(String(g.result)),g.onerror=()=>o(new Error("Failed to read file")),g.readAsDataURL(a)})}function Ar(){const a=new Date().toISOString(),t=Date.now();r(pe,{id:101,name:"Chris Hogg",phone_display:"+1‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢5761",is_leader:!0,location_sharing_enabled:!0,avatar_url:null}),r(we,{id:501,name:"Spring Retreat Convoy",destination:{name:"Branson Camp Grounds",lat:36.6406,lng:-93.2185},starts_at:new Date(t-3600*1e3).toISOString(),ends_at:new Date(t+1080*60*1e3).toISOString(),participant_count:4}),r(j,[{participant_id:101,name:"Chris Hogg",gender:null,avatar_url:null,vehicle_color:"Silver",vehicle_description:"Ford F-150",is_leader:!0,is_current_user:!0,location_sharing_enabled:!0,location:{lat:36.612,lng:-93.287,accuracy:9,speed:17,heading:112,recorded_at:a,place:{label:"At Trumann Community Health Club",name:"Trumann Community Health Club",relation:"at",distance_m:12,confidence:"high",source:"nominatim"}},last_seen_seconds_ago:5},{participant_id:102,name:"Sarah Jenkins",gender:null,avatar_url:null,vehicle_color:"White",vehicle_description:"Honda CR-V",is_leader:!1,is_current_user:!1,location_sharing_enabled:!0,location:{lat:36.618,lng:-93.272,accuracy:13,speed:18,heading:108,recorded_at:a},last_seen_seconds_ago:28},{participant_id:103,name:"Micah Davis",gender:null,avatar_url:null,vehicle_color:"Blue",vehicle_description:"Chevy Traverse",is_leader:!1,is_current_user:!1,location_sharing_enabled:!0,location:{lat:36.604,lng:-93.248,accuracy:11,speed:21,heading:96,recorded_at:a},last_seen_seconds_ago:13},{participant_id:104,name:"Linda Perez",gender:null,avatar_url:null,vehicle_color:"Black",vehicle_description:"Kia Telluride",is_leader:!1,is_current_user:!1,location_sharing_enabled:!0,location:{lat:36.597,lng:-93.214,accuracy:14,speed:16,heading:92,recorded_at:a},last_seen_seconds_ago:36}]),r(Qe,a),dt(e(j),e(Qe)),r(_a,[{id:1,name:"Fuel + regroup",description:"Top off and verify all vans are accounted for.",lat:36.621,lng:-93.295,order:1,eta:new Date(t+1500*1e3).toISOString()},{id:2,name:"Prayer circle",description:"10-minute devotion and route update.",lat:36.634,lng:-93.252,order:2,eta:new Date(t+3300*1e3).toISOString()},{id:3,name:"Arrive at retreat camp",description:"Unload and check in by group name.",lat:36.641,lng:-93.219,order:3,eta:new Date(t+5400*1e3).toISOString()}]),r(ma,[{id:1,message_type:"chat",content:"All vehicles are rolling. Next checkpoint in ~25 minutes.",sender:{id:101,name:"Chris Hogg",is_leader:!0,gender:null,avatar_url:null},location:null,created_at:new Date(t-480*1e3).toISOString()},{id:2,message_type:"chat",content:"üôè Prayer Request: please pray for safe travel and calm weather.",sender:{id:102,name:"Sarah Jenkins",is_leader:!1,gender:null,avatar_url:null},location:null,created_at:new Date(t-240*1e3).toISOString()},{id:3,message_type:"alert",content:"[HIGH] Keep hazard lights on for reduced visibility zone ahead.",sender:{id:101,name:"Chris Hogg",is_leader:!0,gender:null,avatar_url:null},location:null,created_at:new Date(t-120*1e3).toISOString()}]),r(Sa,"Silver"),r(wa,"Ford F-150"),r($,!0),r(me,!0),r(ua,"Demo mode active from ?demo=1 for visual sharing.")}Qr(()=>{r(te,navigator.onLine),(async()=>{const o=new URLSearchParams(window.location.search),g=o.get("demo")==="1",h=o.get("signin")==="1"||o.get("auth")==="signin",L=h||o.get("reauth")==="1"||o.get("reset")==="1";if(g){Ar();return}h&&r(ee,"signin"),L&&localStorage.removeItem(T);const F=localStorage.getItem(T);if(F){r(Y,F);try{await Ot(F)}catch{localStorage.removeItem(T),r(Y,""),r(me,!0)}}else r(me,!0)})();const a=async()=>{r(te,!0),await Ft(),await da()},t=()=>{r(te,!1),r(ua,"You are offline. New messages will be queued.")};return window.addEventListener("online",a),window.addEventListener("offline",t),rt=setInterval(()=>{e($)&&e(te)&&da()},2e4),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",t),rt&&clearInterval(rt),Qa(),e(D)&&(e(D).remove(),r(D,null),aa=null)}}),Le(()=>e(j),()=>{r(u,e(j).filter(a=>(a.last_seen_seconds_ago??9999)<300).length)}),Le(()=>e(j),()=>{r(c,fr(e(j)))}),Le(()=>(e(Da),e(j)),()=>{r(E,e(Da)==="leaders"?e(j).filter(a=>a.is_leader):e(j))}),Le(()=>e(pe),()=>{r(S,e(pe)?.is_leader===!0)}),Le(()=>e(Ye),()=>{r(x,e(Ye).length)}),Le(()=>(e(j),e(ta)),()=>{r(O,e(j).map(a=>{const t=e(ta)[a.participant_id];return!t||t.phase!=="stopped"?null:{row:a,insight:t}}).filter(a=>a!==null).sort((a,t)=>t.insight.stopped_for_seconds-a.insight.stopped_for_seconds))}),Le(()=>(e(j),e(ta)),()=>{r(P,e(j).filter(a=>{const t=e(ta)[a.participant_id];return t&&(t.phase==="moving"||t.phase==="candidate")}).length)}),Le(()=>e(Va),()=>{r(J,e(Va).slice(0,4))}),Le(()=>{},()=>{typeof document<"u"&&document.body.classList.add("theme-neo")}),Le(()=>(e($),e(X),e(xa)),()=>{e($)&&e(X)==="map"&&e(xa)&&It()}),Le(()=>(e(D),e($),e(X),e(c),e(ta),e(we)),()=>{e(D)&&e($)&&e(X)==="map"&&(e(c),e(ta),e(we)?.destination?.lat,e(we)?.destination?.lng,At())}),Le(()=>(e($),e(Y),e(he)),()=>{e($)&&e(Y)&&e(he)?gr():Qa()}),xn(),Zr();var qt=xs(),Bt=bt(qt);{var Or=a=>{var t=On();f(a,t)},Lr=a=>{var t=Fn(),o=l(t),g=l(o),h=i(l(g),2),L=l(h,!0);s(h);var F=i(h,2),I=l(F);{var Z=b=>{var C=ea("Already signed up? Enter your retreat code + phone number to sign in fast.");f(b,C)},ue=b=>{var C=ea("Enter your retreat code, phone number, and basic details to sync with your group on the road.");f(b,C)};K(I,b=>{e(ee)==="signin"?b(Z):b(ue,!1)})}s(F),s(g);var ge=i(g,2),re=l(ge),_e=l(re);let Ce;var Ee=i(_e,2);let na;s(re);var Be=i(re,2),G=i(l(Be));la(G),s(Be);var He=i(Be,2),Ge=i(l(He));la(Ge),s(He);var q=i(He,2);{var k=b=>{var C=Ln(),le=bt(C),Q=i(l(le));la(Q),s(le);var ie=i(le,2),fe=l(ie),Pe=i(l(fe));la(Pe),s(fe);var Ne=i(fe,2),ye=i(l(Ne));la(ye),s(Ne),s(ie),H(()=>Q.required=e(ee)==="join"),ia(Q,()=>e(be),B=>r(be,B)),ia(Pe,()=>e(We),B=>r(We,B)),ia(ye,()=>e(ve),B=>r(ve,B)),f(b,C)},M=b=>{var C=$n();f(b,C)};K(q,b=>{e(ee)==="join"?b(k):b(M,!1)})}var z=i(q,2),se=l(z);{var R=b=>{var C=ea();H(()=>y(C,e(ee)==="signin"?"Signing in‚Ä¶":"Joining‚Ä¶")),f(b,C)},W=b=>{var C=ea();H(()=>y(C,e(ee)==="signin"?"Sign in":"Start the Journey")),f(b,C)};K(se,b=>{e(de)?b(R):b(W,!1)})}s(z),s(ge),at(2),s(o),s(t),H(()=>{y(L,e(ee)==="signin"?"Welcome Back":"Join the Retreat"),Ce=De(_e,1,"join-option svelte-1uha8ag",null,Ce,{active:e(ee)==="join"}),Na(_e,"aria-pressed",e(ee)==="join"),na=De(Ee,1,"signin-option svelte-1uha8ag",null,na,{active:e(ee)==="signin"}),Na(Ee,"aria-pressed",e(ee)==="signin"),z.disabled=e(de)}),U("click",_e,()=>r(ee,"join")),U("click",Ee,()=>r(ee,"signin")),ia(G,()=>e($e),b=>r($e,b)),U("input",G,b=>{const C=b.currentTarget;r($e,Pt(C.value))}),ia(Ge,()=>e(Fe),b=>r(Fe,b)),U("submit",ge,Dn(_r)),f(a,t)},$r=a=>{var t=hs(),o=l(t),g=l(o),h=l(g),L=l(h,!0);s(h);var F=i(h,4),I=l(F);s(F),s(g);var Z=i(g,2),ue=l(Z),ge=l(ue,!0);s(ue),s(Z),s(o);var re=i(o,2);{var _e=q=>{var k=Rn(),M=l(k),z=l(M),se=l(z,!0);s(z);var R=i(z,2),W=l(R);{var b=Q=>{var ie=ea();H(()=>y(ie,`${e(x)??""} queued message${e(x)===1?"":"s"} waiting to send.`)),f(Q,ie)},C=Q=>{var ie=ea("You can keep using the app ‚Äî new messages will sync when your signal returns.");f(Q,ie)};K(W,Q=>{e(te)?Q(b):Q(C,!1)})}s(R),s(M);var le=i(M,2);s(k),H(()=>y(se,e(te)?"Queued updates ready":"Offline mode active")),U("click",le,Dr),f(q,k)};K(re,q=>{(!e(te)||e(x)>0)&&q(_e)})}var Ce=i(re,2);Ta(Ce,5,()=>or,Ma,(q,k)=>{var M=jn();let z;var se=l(M),R=l(se,!0);s(se);var W=i(se,2),b=l(W,!0);s(W),s(M),H(()=>{z=De(M,1,"svelte-1uha8ag",null,z,{active:e(X)===e(k).id}),y(R,(e(k),v(()=>e(k).icon))),y(b,(e(k),v(()=>e(k).label)))}),U("click",M,()=>r(X,e(k).id)),f(q,M)}),s(Ce);var Ee=i(Ce,2);{var na=q=>{var k=Xn(),M=l(k),z=i(l(M),2),se=l(z,!0);s(z),s(M);var R=i(M,2),W=l(R);Jt(W,m=>r(xa,m),()=>e(xa));var b=i(W,2);{var C=m=>{var ae=qn();f(m,ae)};K(b,m=>{e(c),v(()=>e(c).length===0)&&m(C)})}s(R);var le=i(R,4),Q=l(le),ie=i(l(Q),2),fe=l(ie),Pe=i(fe);{var Ne=m=>{var ae=ea();H(Je=>y(ae,`¬∑ updated ${Je??""}`),[()=>(e(Qe),v(()=>ot(e(Qe))))]),f(m,ae)};K(Pe,m=>{e(Qe)&&m(Ne)})}s(ie),s(Q);var ye=i(Q,2);{var B=m=>{var ae=Bn();f(m,ae)},oe=m=>{var ae=Vn();Ta(ae,5,()=>e(O),Ma,(Je,A)=>{var Me=Hn(),Xe=l(Me),ha=l(Xe,!0);s(Xe);var sa=i(Xe,2),Ja=l(sa);s(sa);var Xa=i(sa,2),pt=l(Xa);s(Xa),s(Me),H(za=>{y(ha,(e(A),v(()=>e(A).row.name))),y(Ja,`üìç ${e(A),v(()=>e(A).insight.place_phrase)??""}`),y(pt,`Stopped for about ${za??""}.`)},[()=>(e(A),v(()=>ut(e(A).insight.stopped_for_seconds)))]),f(Je,Me)}),s(ae),f(m,ae)};K(ye,m=>{e(O),v(()=>e(O).length===0)?m(B):m(oe,!1)})}s(le);var xe=i(le,2),Ve=l(xe),ce=l(Ve);let Ue;var Ca=l(ce);s(ce);var Ke=i(ce,2);let La;var Ea=l(Ke);s(Ke),s(Ve);var va=i(Ve,2),pa=l(va),$a=i(pa,2);s(va),s(xe);var fa=i(xe,2);{var Ga=m=>{var ae=Un();f(m,ae)},Pa=m=>{var ae=Zn();Ta(ae,5,()=>e(E),Ma,(Je,A)=>{var Me=Yn();let Xe;var ha=l(Me);let sa;var Ja=l(ha);{var Xa=Oe=>{var ze=Jn();H(()=>{Na(ze,"src",(e(A),v(()=>e(A).avatar_url))),Na(ze,"alt",(e(A),v(()=>e(A).name)))}),f(Oe,ze)},pt=Oe=>{var ze=zn(),ft=l(ze,!0);s(ze),H(()=>y(ft,(e(A),v(()=>e(A).is_leader?"‚≠ê":"üë§")))),f(Oe,ze)};K(Ja,Oe=>{e(A),v(()=>e(A).avatar_url)?Oe(Xa):Oe(pt,!1)})}at(2),s(ha);var za=i(ha,2),Hr=l(za,!0);s(za);var Vr=i(za,2);{var Ur=Oe=>{var ze=Wn(),ft=l(ze,!0);s(ze),H(zr=>y(ft,zr),[()=>(e(A),v(()=>Dt(e(A))))]),f(Oe,ze)},Jr=Qt(()=>(e(A),v(()=>Dt(e(A)))));K(Vr,Oe=>{e(Jr)&&Oe(Ur)})}s(Me),H(Oe=>{Xe=De(Me,1,"participant-chip svelte-1uha8ag",null,Xe,Oe),Na(Me,"aria-label",(e(A),v(()=>`Focus ${e(A).name} on map`))),sa=De(ha,1,"participant-avatar svelte-1uha8ag",null,sa,{leader:e(A).is_leader,online:(e(A).last_seen_seconds_ago??9999)<300,offline:(e(A).last_seen_seconds_ago??9999)>=300}),y(Hr,(e(A),v(()=>e(A).name)))},[()=>({active:e(tt)===e(A).participant_id,stopped:ka(e(A).participant_id)?.phase==="stopped"})]),U("click",Me,()=>yr(e(A))),f(Je,Me)}),s(ae),Jt(ae,Je=>r(Za,Je),()=>e(Za)),f(m,ae)};K(fa,m=>{e(E),v(()=>e(E).length===0)?m(Ga):m(Pa,!1)})}var Ka=i(fa,2),Fa=i(l(Ka),2);{var vt=m=>{var ae=Qn();f(m,ae)},ne=m=>{var ae=Kn();Ta(ae,5,()=>e(J),Ma,(Je,A)=>{var Me=Gn(),Xe=l(Me),ha=l(Xe,!0);s(Xe);var sa=i(Xe,2),Ja=l(sa,!0);s(sa),s(Me),H(()=>{De(Me,1,(e(A),v(()=>`stop-feed-item ${e(A).kind}`)),"svelte-1uha8ag"),y(ha,(e(A),v(()=>e(A).kind==="stopped"?"üõë":"‚úÖ"))),y(Ja,(e(A),v(()=>e(A).text)))}),f(Je,Me)}),s(ae),f(m,ae)};K(Fa,m=>{e(J),v(()=>e(J).length===0)?m(vt):m(ne,!1)})}s(Ka),s(k),H(m=>{y(se,(e(we),v(()=>e(we)?.destination?.name?`Destination: ${e(we).destination.name}`:"Destination syncing‚Ä¶"))),y(fe,`${e(O),v(()=>e(O).length)??""} parked ¬∑ ${e(P)??""} rolling `),Ue=De(ce,1,"chip-filter svelte-1uha8ag",null,Ue,{active:e(Da)==="all"}),y(Ca,`All (${e(j),v(()=>e(j).length)??""})`),La=De(Ke,1,"chip-filter svelte-1uha8ag",null,La,{active:e(Da)==="leaders"}),y(Ea,`Leaders (${m??""})`)},[()=>(e(j),v(()=>e(j).filter(m=>m.is_leader).length))]),U("click",ce,()=>r(Da,"all")),U("click",Ke,()=>r(Da,"leaders")),U("click",pa,()=>Rt(-1)),U("click",$a,()=>Rt(1)),f(q,k)},Be=q=>{var k=rs(),M=i(l(k),2);{var z=R=>{var W=es();f(R,W)},se=R=>{var W=ts();Ta(W,5,()=>e(_a),Ma,(b,C,le)=>{var Q=as(),ie=l(Q),fe=i(ie,2),Pe=l(fe);Pe.textContent=`Stop ${le+1}`;var Ne=i(Pe,2),ye=l(Ne,!0);s(Ne);var B=i(Ne,2),oe=l(B,!0);s(B);var xe=i(B,2),Ve=l(xe);s(xe),s(fe),s(Q),H((ce,Ue)=>{De(ie,1,`timeline-dot ${ce??""}`,"svelte-1uha8ag"),y(ye,(e(C),v(()=>e(C).name))),y(oe,(e(C),v(()=>e(C).description??"No additional note."))),y(Ve,`ETA ${Ue??""}`)},[()=>(e(C),v(()=>new Date(e(C).eta??"").getTime()<Date.now()?"done":"")),()=>(e(C),v(()=>ot(e(C).eta)))]),f(b,Q)}),s(W),f(R,W)};K(M,R=>{e(_a),v(()=>e(_a).length===0)?R(z):R(se,!1)})}s(k),f(q,k)},G=q=>{var k=is(),M=i(l(k),2),z=l(M);{var se=B=>{var oe=ns();f(B,oe)},R=B=>{var oe=Yr(),xe=bt(oe);Ta(xe,1,()=>e(ma),Ma,(Ve,ce)=>{var Ue=ss(),Ca=l(Ue),Ke=l(Ca),La=l(Ke,!0);s(Ke);var Ea=i(Ke,2),va=l(Ea,!0);s(Ea),s(Ca);var pa=i(Ca,2),$a=l(pa,!0);s(pa),s(Ue),H(fa=>{De(Ue,1,(e(ce),v(()=>`chat-item ${e(ce).message_type==="alert"?"alert":""}`)),"svelte-1uha8ag"),y(La,(e(ce),v(()=>e(ce).sender.name))),y(va,fa),y($a,(e(ce),v(()=>e(ce).content)))},[()=>(e(ce),v(()=>ot(e(ce).created_at)))]),f(Ve,Ue)}),f(B,oe)};K(z,B=>{e(ma),v(()=>e(ma).length===0)?B(se):B(R,!1)})}s(M);var W=i(M,2),b=l(W),C=l(b);let le;var Q=i(C,2);let ie;s(b);var fe=i(b,2);Zt(fe);var Pe=i(fe,2),Ne=i(Pe,2);{var ye=B=>{var oe=ls(),xe=l(oe,!0);s(oe),H(()=>y(xe,e(ua))),f(B,oe)};K(Ne,B=>{e(ua)&&B(ye)})}s(W),s(k),H(()=>{le=De(C,1,"svelte-1uha8ag",null,le,{active:e(Se)==="chat"}),ie=De(Q,1,"svelte-1uha8ag",null,ie,{active:e(Se)==="prayer"}),Na(fe,"placeholder",e(Se)==="prayer"?"Share a prayer need for the caravan‚Ä¶":"Send a convoy update‚Ä¶")}),U("click",C,()=>r(Se,"chat")),U("click",Q,()=>r(Se,"prayer")),ia(fe,()=>e(ba),B=>r(ba,B)),U("click",Pe,mr),f(q,k)},He=q=>{var k=ds(),M=i(l(k),2);{var z=R=>{var W=os();f(R,W)},se=R=>{var W=us(),b=l(W);Ta(b,4,()=>["low","medium","high","critical"],Ma,(ye,B)=>{var oe=cs();let xe;var Ve=l(oe,!0);s(oe),H(()=>{xe=De(oe,1,"svelte-1uha8ag",null,xe,{active:e(Re)===B}),y(Ve,B)}),U("click",oe,()=>r(Re,B)),f(ye,oe)}),s(b);var C=i(b,2);Zt(C);var le=i(C,2),Q=i(l(le),2),ie=l(Q),fe=l(ie);s(ie);var Pe=i(ie);s(Q),s(le);var Ne=i(le,2);s(W),H(ye=>{y(fe,`[${ye??""}]`),y(Pe,` ${(e(ya)||"No message yet.")??""}`)},[()=>(e(Re),v(()=>e(Re).toUpperCase()))]),ia(C,()=>e(ya),ye=>r(ya,ye)),U("click",Ne,()=>r(ja,!0)),f(R,W)};K(M,R=>{e(S)?R(se,!1):R(z)})}s(k),f(q,k)},Ge=q=>{var k=fs(),M=i(l(k),2),z=l(M),se=l(z);{var R=ne=>{var m=vs();H(()=>Na(m,"src",(e(pe),v(()=>e(pe).avatar_url)))),f(ne,m)},W=ne=>{var m=ps(),ae=l(m,!0);s(m),H(Je=>y(ae,Je),[()=>(e(pe),v(()=>e(pe)?.name?.slice(0,1)??"C"))]),f(ne,m)};K(se,ne=>{e(pe),v(()=>e(pe)?.avatar_url)?ne(R):ne(W,!1)})}s(z);var b=i(z,2),C=l(b),le=i(l(C));la(le),s(C);var Q=i(C,2),ie=i(l(Q));la(ie),s(Q);var fe=i(Q,2),Pe=i(l(fe));la(Pe),s(fe);var Ne=i(fe,2),ye=i(l(Ne));la(ye),s(Ne),s(b),s(M);var B=i(M,2),oe=l(B),xe=i(l(oe),2),Ve=l(xe);s(xe),at(2),s(oe);var ce=i(oe,2),Ue=l(ce);{var Ca=ne=>{var m=ea("Saving‚Ä¶");f(ne,m)},Ke=ne=>{var m=ea("Unshare my location");f(ne,m)},La=ne=>{var m=ea("Share my location again");f(ne,m)};K(Ue,ne=>{e(Ha)?ne(Ca):e(he)?ne(Ke,1):ne(La,!1)})}s(ce),s(B);var Ea=i(B,2),va=l(Ea),pa=l(va),$a=i(pa);s(va);var fa=i(va,2),Ga=i(fa,2),Pa=i(Ga,2),Ka=l(Pa,!0);s(Pa);var Fa=i(Pa,2),vt=l(Fa,!0);s(Fa),s(Ea),s(k),H(()=>{Gt(le,(e(pe),v(()=>e(pe)?.name??""))),Gt(ie,(e(pe),v(()=>e(pe)?.phone_display??""))),y(Ve,`Location sharing is ${e(he)?"On":"Off"}`),De(ce,1,Mn(e(he)?"danger-outline":"ghost"),"svelte-1uha8ag"),ce.disabled=e(Ha),y(pa,`${e(N)?"Uploading‚Ä¶":"Upload profile photo"} `),$a.disabled=e(N),fa.disabled=e(N),Pa.disabled=e(Ae)||e(p),y(Ka,e(Ae)?"Leaving‚Ä¶":"Leave retreat"),Fa.disabled=e(Ae)||e(p),y(vt,e(p)?"Deleting‚Ä¶":"Delete account & data")}),ia(Pe,()=>e(Sa),ne=>r(Sa,ne)),ia(ye,()=>e(wa),ne=>r(wa,ne)),U("click",ce,()=>Nr(!e(he))),U("change",$a,ne=>{const m=ne.currentTarget;Er(m.files?.[0]??null),m.value=""}),U("click",fa,Pr),U("click",Ga,()=>qe("Vehicle detail save endpoint is next backend step.")),U("click",Pa,Mr),U("click",Fa,Tr),f(q,k)};K(Ee,q=>{e(X)==="map"?q(na):e(X)==="waypoints"?q(Be,1):e(X)==="chat"?q(G,2):e(X)==="alert"?q(He,3):e(X)==="profile"&&q(Ge,4)})}s(t),H(()=>{y(L,(e(we),v(()=>e(we)?.name??"Calvary Caravan"))),y(I,`${e(u)??""}/${e(j),v(()=>e(j).length)??""} online ¬∑ ${e(we),e(j),v(()=>e(we)?.participant_count??e(j).length)??""} total`),ue.disabled=e(Ie),y(ge,e(Ie)?"‚Ä¶":"‚Üª")}),U("click",ue,da),f(a,t)};K(Bt,a=>{e(me)?e($)?a($r,!1):a(Lr,1):a(Or)})}var Ht=i(Bt,2);{var Fr=a=>{var t=bs(),o=l(t),g=i(o,2),h=l(g),L=l(h),F=l(L,!0);s(L);var I=i(L,2),Z=l(I);s(I);var ue=i(I,2);{var ge=k=>{var M=_s(),z=l(M),se=i(z);{var R=W=>{var b=gs(),C=l(b);s(b),H(le=>y(C,`(${le??""})`),[()=>(e(V),v(()=>cr(e(V).location.place.distance_m)))]),f(W,b)};K(se,W=>{e(V),v(()=>e(V).location.place.distance_m!==null)&&W(R)})}s(M),H(()=>y(z,`üìç ${e(V),v(()=>e(V).location.place.label)??""} `)),f(k,M)};K(ue,k=>{e(V),v(()=>e(V).location?.place?.label)&&k(ge)})}s(h);var re=i(h,2),_e=l(re),Ce=i(_e,2),Ee=i(Ce,2),na=i(Ee,2);s(re);var Be=i(re,2);{var G=k=>{var M=ms(),z=l(M);s(M),H((se,R)=>y(z,`üõë Stopped ${se??""} for ${R??""}`),[()=>(e(V),v(()=>ka(e(V).participant_id)?.place_phrase)),()=>(e(V),v(()=>ut(ka(e(V).participant_id)?.stopped_for_seconds)))]),f(k,M)},He=Qt(()=>(e(V),v(()=>ka(e(V).participant_id)?.phase==="stopped")));K(Be,k=>{e(He)&&k(G)})}var Ge=i(Be,2),q=l(Ge);s(Ge),s(g),s(t),H(k=>{y(F,(e(V),v(()=>e(V).name))),y(Z,`${e(V),v(()=>e(V).vehicle_color??"Vehicle TBD")??""} ¬∑ ${e(V),v(()=>e(V).vehicle_description??"Description TBD")??""}`),y(q,`Last seen: ${k??""}`)},[()=>(e(V),v(()=>ct(e(V).last_seen_seconds_ago)))]),U("click",o,Sr),U("click",_e,()=>Cr(e(V))),U("click",Ce,()=>wr(e(V))),U("click",Ee,()=>xr(e(V))),U("click",na,()=>kr(e(V))),f(a,t)};K(Ht,a=>{e(V)&&a(Fr)})}var Vt=i(Ht,2);{var Rr=a=>{var t=ys(),o=l(t),g=i(o,2),h=i(l(g),2),L=i(l(h)),F=l(L,!0);s(L),at(),s(h);var I=i(h,2),Z=l(I);s(I);var ue=i(I,2),ge=l(ue),re=i(ge,2);s(ue),s(g),s(t),H((_e,Ce)=>{y(F,_e),y(Z,`[${Ce??""}] ${(e(ya)||"No message entered.")??""}`)},[()=>(e(Re),v(()=>e(Re).toUpperCase())),()=>(e(Re),v(()=>e(Re).toUpperCase()))]),U("click",o,()=>r(ja,!1)),U("click",ge,()=>r(ja,!1)),U("click",re,br),f(a,t)};K(Vt,a=>{e(ja)&&a(Rr)})}var Ut=i(Vt,2);{var jr=a=>{var t=Ss(),o=l(t);s(t),H(()=>y(o,`‚ö†Ô∏è ${e(Ia)??""}`)),f(a,t)};K(Ut,a=>{e(Ia)&&a(jr)})}var qr=i(Ut,2);{var Br=a=>{var t=ws(),o=l(t);s(t),H(()=>y(o,`‚úÖ ${e(qa)??""}`)),f(a,t)};K(qr,a=>{e(qa)&&a(Br)})}f(n,qt),kn()}export{Ds as component};
